# GDB

## compille

### `$gcc [flags] ì†ŒìŠ¤íŒŒì¼ -o ê²°ê³¼íŒŒì¼ëª…` 

[flags]
- `-o ì¶œë ¥íŒŒì¼ëª…`  : ì¶œë ¥ íŒŒì¼ëª…ì„ ì§€ì •í•  ë•Œ ì‚¬ìš©
- `-O1 ~ -O3`  :ìµœì í™” ìˆ˜ì¤€ì„ ì§€ì •. ìˆ«ìê°€ í´ìˆ˜ë¡ ë†’ì€ ìˆ˜ì¤€ì˜ ìµœì í™”
- `-g` : ë””ë²„ê¹…ì„ ìœ„í•œ ì •ë³´ë¥¼ ì»´íŒŒì¼í•˜ë©´ì„œ ìƒì„±í•˜ë„ë¡ í•¨.
- 

## Starting Up GDB 
- `gdb`  -> `(gdb) gdb í”„ë¡œê·¸ë¨ëª…`     
- `gdb ./í”„ë¡œê·¸ë¨ëª…`   


```
(gdb) break main.c:10                        //main.c íŒŒì¼ì˜ 10ë²ˆì§¸ ì¤„ì— break point ì„¤ì •í•˜ê¸°
(gdb) b 10                                   //10ë²ˆì§¸ ì¤„ì—ì„œ ë¸Œë ˆì´í¬ í¬ì¸íŠ¸ ì„¤ì •
(gdb) b í•¨ìˆ˜ëª…                               //í•´ë‹¹ í•¨ìˆ˜ì—ì„œ ë¸Œë ˆì´í¬ í¬ì¸íŠ¸ ì„¤ì •
(gdb) break *ë©”ëª¨ë¦¬ì£¼ì†Œ                      // í•´ë‹¹ instruction ì— break point ì„¤ì •í•˜ê¸°.
(gdb) break main.c:10 if(i*20000) >= 10      // conditional breakpoint
(gdb) run                                    // break pointê¹Œì§€ ì‹¤í–‰ . ì²˜ìŒë¶€í„° ì¬ì‹œì‘ 
(gdb) continue/c                               // ë‹¤ìŒ break pointê¹Œì§€ ê³„ì†.
(gdb) step/s                                   // single-step. ë‹¤ìŒì¤„ ì‹¤í–‰.
(gdb) next/n                                   // single-step. ê·¸ëŸ¬ë‚˜ sub-routineì„ ì‹¤í–‰í•˜ì§€ ì•Šê³  í•˜ë‚˜ì˜ instructionìœ¼ë¡œì„œ ì·¨ê¸‰í•¨.
(gdb) ni                                       // ë‹¤ìŒ instruction ì‹¤í–‰.
(gdb) watch ë³€ìˆ˜ëª…                             // ë³€ìˆ˜ì˜ ê°’ì´ ë³€ê²½ë ë•Œë§ˆë‹¤ break.

```

ğŸ“Œ stepê³¼ next, nexti ì˜ ì°¨ì´ì  
- n (next) : high levelì—ì„œ ë¼ì¸ ë‹¨ìœ„ë¡œ ë„˜ì–´ê°„ë‹¤. í•¨ìˆ˜ë¥¼ ë§Œë‚˜ë©´ ê·¸ëƒ¥ ì‹¤í–‰í•œë‹¤.
 
- s (step) : high levelì—ì„œ ë¼ì¸ ë‹¨ìœ„ë¡œ ë„˜ì–´ê°„ë‹¤. í•¨ìˆ˜ë¥¼ ë§Œë‚˜ë©´ ì•ˆìœ¼ë¡œ ë“¤ì–´ê°„ë‹¤.

- ni (next instruction) : assemblyì—ì„œ instrunction ë‹¨ìœ„ë¡œ ë„˜ì–´ê°„ë‹¤. 


## Print values

```
(gdb) print ë³€ìˆ˜ëª…                             //ë³€ìˆ˜ì— ë“¤ì–´ìˆëŠ” ê°’ ì¶œë ¥ (10ì§„ìˆ˜)
(gdb) print/x ë³€ìˆ˜ëª…                          //ë³€ìˆ˜ì— ë“¤ì–´ìˆëŠ” ê°’ ì¶œë ¥ (16ì§„ìˆ˜)
(gdb) info registers                         // ë ˆì§€ìŠ¤í„° ì •ë³´ ì¶œë ¥
(gdb) info registers rax                     //rax ë ˆì§€ìŠ¤í„°ì— ë“¤ì–´ìˆëŠ” ê°’ ì¶œë ¥
(gdb) x ë©”ëª¨ë¦¬ì£¼ì†Œ(16ì§„ìˆ˜ 0xë¡œ ì‹œì‘)         // ë ˆì§€ìŠ¤í„°ì— ë“¤ì–´ìˆëŠ” ê°’ ì¶œë ¥(16ì§„ìˆ˜)
(gdb) x/nfu ë©”ëª¨ë¦¬ì£¼ì†Œ(16ì§„ìˆ˜ 0xë¡œ ì‹œì‘)     // ë ˆì§€ìŠ¤í„°ì— ë“¤ì–´ìˆëŠ” ê°’ ì¶œë ¥(10ì§„ìˆ˜)

```

## TUI Mode (Text User Interface)
- ctrl x -> ctrl a : TUI Mode ì „í™˜. (enable / disable)

```
(gdb) tui enable          // TUI ì¼œê¸°
(gdb) tui disable         // TUI ë„ê¸°
(gdb) layout asm          // ì–´ì…ˆë¸”ë¦¬ì™€ ëª…ë ¹ì°½ì„ ë³´ì—¬ì£¼ëŠ” ëª¨ë“œ
(gdb) layout src          // ì†ŒìŠ¤ì½”ë“œì™€ ëª…ë ¹ ì°½ì„ ë³´ì—¬ì£¼ëŠ” ëª¨ë“œ 


```




